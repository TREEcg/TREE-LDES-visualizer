(function(e){function t(t){for(var a,o,l=t[0],s=t[1],c=t[2],u=0,f=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/TREE-LDES-visualizer/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},2:function(e,t){},3:function(e,t){},"3d10":function(e,t,n){},4:function(e,t){},"4de0":function(e,t,n){"use strict";n("3d10")},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=n("3835"),i=(n("4fad"),n("b64b"),Object(a["e"])("h1",null,"Visualizer",-1)),o={id:"visualizerContainer"},l={class:"textContent"},s=Object(a["e"])("h2",null,"A tool to visualize and validate a tree:Collection",-1),c=Object(a["e"])("label",{style:{"vertical-align":"top"},for:"url"},"Enter URL: ",-1),d={id:"examplesDiv",style:{margin:"auto",display:"inline-block","vertical-align":"top"}},u=["onMousedown","title"],f={key:0,id:"information",style:{"white-space":"pre"}},h=Object(a["e"])("br",null,null,-1),p={key:0},v={key:1},m={key:2},g={key:3,style:{display:"inline-block","margin-bottom":"1rem"}},b=Object(a["e"])("br",null,null,-1),y={style:{"min-height":"5rem"}},j={key:0},O=Object(a["f"])('<div class="flexContainer"><div class="textContent resizableContainers"><h3>Selected resource</h3><div id="currentPage"></div></div><div class="textContent resizableContainers"><h3>Graph</h3><div id="graph"></div></div></div>',1),w={class:"flexContainer"},x=Object(a["e"])("div",{class:"textContent resizableContainers"},[Object(a["e"])("h3",null,"Members"),Object(a["e"])("div",{id:"members"})],-1),k={class:"textContent resizableContainers"},_=Object(a["e"])("h3",null,"Log",-1),R={id:"log",class:"textContent"},E={id:"v-model-radiobutton"},S=Object(a["e"])("label",{for:"one"},"Remarks",-1),B=Object(a["e"])("br",null,null,-1),C=Object(a["e"])("label",{for:"two"},"Shape Validation",-1),I=Object(a["e"])("br",null,null,-1),T={key:0},N={key:0},M=Object(a["e"])("br",null,null,-1),A=Object(a["e"])("br",null,null,-1),P={key:1},L=Object(a["e"])("br",null,null,-1),H=Object(a["e"])("p",null,[Object(a["g"])("No validation report available."),Object(a["e"])("br"),Object(a["g"])(" Either no members were found in all dereferenced resources or no shape was found.")],-1),z=[L,H],U={style:{"font-weight":"bold"}},Q={key:0},V=Object(a["e"])("br",null,null,-1),W=Object(a["e"])("br",null,null,-1),J={key:1},F={key:0},D={key:0},G={style:{"white-space":"pre-line"}},q={key:0,style:{"white-space":"pre"}},Y=Object(a["e"])("br",null,null,-1),X={style:{"font-weight":"bold"}},$={key:1},K=Object(a["e"])("br",null,null,-1),Z={style:{"font-weight":"bold"}},ee=Object(a["e"])("p",null,"Nothing to remark.",-1),te={key:1},ne=Object(a["e"])("p",null,"No remarks available.",-1),ae=[ne],re=Object(a["e"])("div",{style:{height:"100px"}},null,-1);function ie(e,t,n,L,H,ne){return Object(a["h"])(),Object(a["d"])(a["a"],null,[i,Object(a["e"])("div",o,[Object(a["e"])("div",l,[s,Object(a["e"])("div",null,[c,Object(a["e"])("div",d,[Object(a["m"])(Object(a["e"])("input",{type:"url",autocomplete:"off",list:"exT","onUpdate:modelValue":t[0]||(t[0]=function(e){return H.data_url=e}),placeholder:"URL",name:"url",onClick:t[1]||(t[1]=Object(a["o"])((function(e){return ne.open()}),["stop"])),onKeyup:t[2]||(t[2]=Object(a["n"])((function(e){return ne.start(void 0)}),["enter"])),onBlur:t[3]||(t[3]=function(e){return ne.close()})},null,544),[[a["l"],H.data_url]]),Object(a["e"])("ul",{id:"fakeExamples",tabindex:"1",onBlur:t[4]||(t[4]=function(e){return ne.close()})},[(Object(a["h"])(!0),Object(a["d"])(a["a"],null,Object(a["i"])(this.exampleMap,(function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return Object(a["h"])(),Object(a["d"])("li",{onMousedown:function(e){return ne.setUrl(i)},key:n,title:i},Object(a["j"])(n),41,u)})),128))],32)]),Object(a["e"])("button",{style:{"vertical-align":"top","margin-left":"4px","margin-top":"1px"},onClick:t[5]||(t[5]=function(e){return ne.start(void 0)})},"Go")]),this.dataResult?(Object(a["h"])(),Object(a["d"])("div",f,[h,this.dataResult.collectionStats.mainInfo?(Object(a["h"])(),Object(a["d"])("div",p,[Object(a["e"])("p",null,Object(a["j"])(this.dataResult.collectionStats.mainInfo),1)])):Object(a["c"])("",!0),this.dataResult.collectionStats.rootInfo?(Object(a["h"])(),Object(a["d"])("div",v,[Object(a["e"])("p",null,Object(a["j"])(this.dataResult.collectionStats.rootInfo),1)])):Object(a["c"])("",!0),this.dataResult.collectionStats.attributes?(Object(a["h"])(),Object(a["d"])("div",m,[(Object(a["h"])(!0),Object(a["d"])(a["a"],null,Object(a["i"])(Object.entries(this.dataResult.collectionStats.attributes),(function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return Object(a["h"])(),Object(a["d"])("li",{key:n},Object(a["j"])(n)+": "+Object(a["j"])(i),1)})),128))])):Object(a["c"])("",!0),this.dataResult.shapePresent?(Object(a["h"])(),Object(a["d"])("div",g,[Object(a["e"])("p",{onClick:t[6]||(t[6]=function(){return ne.openShape&&ne.openShape.apply(ne,arguments)}),style:{display:"inline"}},"Found a shape, "),Object(a["e"])("p",{id:"shapeClosed",onClick:t[7]||(t[7]=function(){return ne.openShape&&ne.openShape.apply(ne,arguments)}),style:{display:"inline","font-weight":"bold",cursor:"pointer"}},"click to show."),Object(a["e"])("p",{id:"shapeOpenedText",onClick:t[8]||(t[8]=function(){return ne.closeShape&&ne.closeShape.apply(ne,arguments)}),style:{display:"none","font-weight":"bold",cursor:"pointer"}},"click to hide."),Object(a["e"])("p",{id:"shapeOpened",onClick:t[9]||(t[9]=function(){return ne.closeShape&&ne.closeShape.apply(ne,arguments)}),style:{display:"none"}},Object(a["j"])(this.dataResult.shapeInformation),1),b])):Object(a["c"])("",!0),Object(a["e"])("div",y,[Object(a["e"])("p",null,Object(a["j"])(this.identifies),1),Object(a["e"])("p",null,Object(a["j"])(this.remaining),1),Object(a["e"])("p",null,Object(a["j"])(this.remainingMembers),1)])])):Object(a["c"])("",!0)]),this.data_url?(Object(a["h"])(),Object(a["d"])("div",j,[O,Object(a["e"])("div",w,[x,Object(a["e"])("div",k,[_,Object(a["e"])("div",R,[Object(a["e"])("div",E,[Object(a["m"])(Object(a["e"])("input",{type:"radio",id:"one",value:"Remarks","onUpdate:modelValue":t[10]||(t[10]=function(e){return H.picked=e})},null,512),[[a["k"],H.picked]]),S,B,Object(a["m"])(Object(a["e"])("input",{type:"radio",id:"two",value:"Shape","onUpdate:modelValue":t[11]||(t[11]=function(e){return H.picked=e})},null,512),[[a["k"],H.picked]]),C,I]),Object(a["e"])("div",null,["Shape"===H.picked&&this.dataResult?(Object(a["h"])(),Object(a["d"])("div",T,[0==this.dataResult.shape_validation||1==this.dataResult.shape_validation?(Object(a["h"])(),Object(a["d"])("div",N,[M,Object(a["e"])("p",null,"All members conform to shape: "+Object(a["j"])(this.dataResult.shape_validation),1),A])):(Object(a["h"])(),Object(a["d"])("div",P,z)),(Object(a["h"])(!0),Object(a["d"])(a["a"],null,Object(a["i"])(this.dataResult.nodeValidation,(function(e,t){return Object(a["h"])(),Object(a["d"])("div",{key:e},[Object(a["e"])("p",U,"Report for "+Object(a["j"])(t)+":",1),Object.keys(e).length>0?(Object(a["h"])(),Object(a["d"])("div",Q,[V,(Object(a["h"])(!0),Object(a["d"])(a["a"],null,Object(a["i"])(e,(function(e,t){return Object(a["h"])(),Object(a["d"])("div",{class:"spacing",key:e},[Object(a["g"])(Object(a["j"])(t)+" "+Object(a["j"])(e)+" ",1),W])})),128))])):(Object(a["h"])(),Object(a["d"])("div",J," All members passed validation. "))])})),128))])):Object(a["c"])("",!0)]),"Remarks"===H.picked&&this.dataResult?(Object(a["h"])(),Object(a["d"])("div",F,[this.dataResult.remarks.size>0?(Object(a["h"])(),Object(a["d"])("div",D,[Object(a["e"])("div",G,[(Object(a["h"])(!0),Object(a["d"])(a["a"],null,Object(a["i"])(this.dataResult.remarks,(function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return Object(a["h"])(),Object(a["d"])("li",{key:i},[""!=i?(Object(a["h"])(),Object(a["d"])("div",q,[Y,Object(a["e"])("p",X,"Remarks for "+Object(a["j"])(n)+":",1),Object(a["e"])("p",null,Object(a["j"])(i),1)])):(Object(a["h"])(),Object(a["d"])("div",$,[K,Object(a["e"])("p",Z,"Remarks for "+Object(a["j"])(n)+":",1),ee]))])})),128))])])):(Object(a["h"])(),Object(a["d"])("div",te,ae))])):Object(a["c"])("",!0)])])]),re])):Object(a["c"])("",!0)])],64)}var oe,le=n("b85c"),se=n("1da1"),ce=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("1276"),n("d81d"),n("caad"),n("2532"),n("25f0"),n("b0c0"),n("898b")),de=n("2909"),ue=(n("6062"),n("159b"),n("99af"),n("4de4"),n("a630"),n("a9e3"),n("fb6a"),n("bf30")),fe=n.n(ue),he=(n("6017"),n("9793")),pe=n("002a"),ve=n("bc77"),me=n.n(ve),ge=n("5448").extractMetadata,be=n("48eb"),ye=n("e581"),je=n("6b44"),Oe=n("8ea1"),we=n("64df"),xe=he["i"],ke=xe.namedNode,_e=xe.defaultGraph,Re={collection:[],links:new Map,shapes:[],nodes:[],views:[]},Ee={},Se=[],Be=new Map,Ce=null,Ie=null,Te={},Ne={},Me=new Map,Ae=new Map,Pe=new Map,Le=[],He=new Set,ze=new Map,Ue={url:void 0,collectionStore:void 0},Qe=new Set,Ve=new Map,We=["targetClass","targetNode","targetSubjectsOf","targetObjectsOf"],Je=["@type","import","importStream","conditionalImport","totalItems"],Fe=["@type","import","importStream","conditionalImport","search","retentionPolicy"],De=["import","importStream","conditionalImport"],Ge="http://purl.org/dc/terms/",qe="http://www.w3.org/ns/hydra/core#",Ye="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Xe="http://www.w3.org/ns/shacl#",$e="http://www.w3.org/2000/01/rdf-schema#",Ke="https://w3id.org/tree#",Ze="https://w3id.org/ldes#",et="http://www.w3.org/ns/shapetrees#",tt=new Map([["Title",Ge+"title"],["Creator",Ge+"creator"],["Contributor",Ge+"contributor"],["Description",Ge+"description"],["License",Ge+"license"],["Total items",qe+"totalItems"]]);function nt(e){Ce=e}function at(){Re={collection:[],links:new Map,shapes:[],nodes:[],views:[]},Ie=null,Te={},Ee={},Se=[],He=new Set,ze=new Map,Be=new Map,Me=new Map,Pe=new Map,Ae=new Map,Qe=new Set,Ve=new Map}function rt(e){it(e).forEach((function(e){return He.add(e)}))}function it(e){var t=new Set;if(e.import){var n,a=Object(le["a"])(e.import);try{for(a.s();!(n=a.n()).done;){var r=n.value;t.add(r["@id"])}}catch(s){a.e(s)}finally{a.f()}}if(e.conditionalImport){var i,o=Object(le["a"])(e.conditionalImport.import);try{for(o.s();!(i=o.n()).done;){var l=i.value;t.add(l["@id"])}}catch(s){o.e(s)}finally{o.f()}}return t}function ot(e,t){return lt.apply(this,arguments)}function lt(){return lt=Object(se["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ut(t,n),r=me.a.serialize(be(a),{contentType:"text/turtle"}),e.next=4,ye(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}function st(e,t){return ct.apply(this,arguments)}function ct(){return ct=Object(se["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ye,e.next=3,ft(t,n,!1);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),ct.apply(this,arguments)}function dt(e){var t=[];return t=t.concat(e.getQuads(null,Ke+"shape",null,null).map((function(e){return e.object.id}))),t=t.concat(e.getQuads(null,et+"validatedBy",null,null).map((function(e){return e.object.id}))),t=t.concat(e.getQuads(null,et+"shape",null,null).map((function(e){return e.object.id}))),t}function ut(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.getQuads(t,null,null,null),i=Object(le["a"])(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;"NamedNode"!==o.object.termType&&"BlankNode"!==o.object.termType||o.object.id&&!a.includes(o.object.id)&&(a.push(o.object.id),r=r.concat(ut(e,o.object.id,a)))}}catch(l){i.e(l)}finally{i.f()}return r}function ft(e,t){return ht.apply(this,arguments)}function ht(){return ht=Object(se["a"])(regeneratorRuntime.mark((function e(t,n){var a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!(r.length>2&&void 0!==r[2])||r[2],e.abrupt("return",new Promise((function(e){var r=new pe["a"],i=ut(t,n);if(!n||0!=i.length)return pt(r,i,n,e,a);var o=[];fe.a.dereference(n).catch((function(t){return"Error: Error requesting"===(""+t).slice(0,23)?Be.set(Ce,Be.get(Ce).concat("Error while parsing SHAPE data at:\n"+n+".\nThis website may not have CORS enabled.\n"+t+"\n")):Be.set(Ce,Be.get(Ce).concat("Error while parsing SHAPE data at:\n"+n+".\n"+t+"\n")),pt(r,i,n,e,a)})).then((function(t){t.quads.on("data",(function(e){o.push(e)})).on("error",(function(e){console.error(e);var t="Error while parsing SHAPE data at:\n"+n+".\n\n"+e+"\n";Be.set(Ce,Be.get(Ce).concat(t))})).on("end",(function(){return r.addQuads(o),pt(r,i,n,e,a)}))})).catch((function(){return pt(r,i,n,e,a)}))})));case 2:case"end":return e.stop()}}),e)}))),ht.apply(this,arguments)}function pt(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.addQuads(t);var i,o=[],l=Object(le["a"])(We);try{for(l.s();!(i=l.n()).done;){var s=i.value;o=o.concat(e.getQuads(null,Xe+s,null,null))}}catch(u){l.e(u)}finally{l.f()}if(0==o.length){var c=e.getQuads(n,Ye+"type",Xe+"NodeShape",null);c=c.concat(e.getQuads(n,Ye+"type",Xe+"PropertyShape",null));var d=e.getQuads(n,Ye+"type",$e+"Class",null);0!=c.length&&0!=d.length||!r||(e.addQuad(ke(n),ke(Xe+"targetObjectsOf"),ke(Ke+"member"),_e()),t=ut(e,n))}a(me.a.serialize(be(t),{contentType:"text/turtle"}))}function vt(e,t){var n,a=[],r=[],i=Object(le["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a=a.concat(e.getQuads(o,null,null,null)),a=a.concat(e.getQuads(null,null,o,null)),a=a.concat(ut(e,o,r))}}catch(l){i.e(l)}finally{i.f()}return me.a.serialize(be(a),{contentType:"text/turtle"})}function mt(e,t){return gt.apply(this,arguments)}function gt(){return gt=Object(se["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=function(){(!oe.collections||!oe.collections.size>0||!Array.from(oe.collections.values())[0]["@type"])&&(Ne.mainInfo="")},!Ue.url||Ue.url!=t){e.next=4;break}return n&&n(),e.abrupt("return");case 4:Ue.url=t,Ue.store=new pe["a"],a=[],fe.a.dereference(t).catch((function(e){var t;t="Error: Error requesting"===(""+e).slice(0,23)?"Error trying to get the collection root.\nThis website may not have CORS enabled.\nWill be unable to provide extra information about the collection.\n"+e+"\n":"Error trying to get the collection root.\nWill be unable to provide extra information about the collection.\n"+e+"\n",Be.set(Ce,Be.get(Ce).concat(t)),r(),n&&n()})).then((function(e){e.quads.on("data",(function(e){a.push(e)})).on("error",(function(e){console.error(e);var n="Error while parsing SHAPE data at:\n"+t+".\n\n"+e+"\n";Be.set(Ce,Be.get(Ce).concat(n))})).on("end",(function(){Ue.store.addQuads(a),bt(a),yt(),n&&n()}))})).catch((function(){r(),n&&n()}));case 8:case"end":return e.stop()}}),e)}))),gt.apply(this,arguments)}function bt(e){ge(e).then((function(e){if(e.collections[0]&&e.collections[0].view){var t,n=Object(le["a"])(e.collections[0].view);try{var a=function(){var n=t.value,a=!1;if(oe.collections[0]&&oe.collections[0].view){var r,i=Object(le["a"])(oe.collections[0].view);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.name==n["@id"]&&(a=!0)}}catch(p){i.e(p)}finally{i.f()}}if(!e.nodes.has(n["@id"])){var l,s=Object(le["a"])(Re.views.concat(Re.nodes));try{for(s.s();!(l=s.n()).done;){var c=l.value;c.name==n["@id"]&&(a=!0)}}catch(p){s.e(p)}finally{s.f()}}var d={};if(d.id=n["@id"]+"_node",d.name=n["@id"],d.type="View",a||e.nodes.has(n["@id"])){if(!a&&!oe.nodes.has(n["id"])){n=e.nodes.get(n["@id"]),Re.nodes=Re.nodes.filter((function(e){return e.name!=n["@id"]})),e.nodes&&e.nodes.get(n["@id"])&&e.nodes.get(n["@id"]).relation?d.relation_count=e.nodes.get(n["@id"]).relation.length:d.relation_count=0;var u,f=Object(le["a"])(Fe);try{for(f.s();!(u=f.n()).done;){var h=u.value;n[h]&&(d[h]=n[h])}}catch(p){f.e(p)}finally{f.f()}Re.views.push(d),jt(Re.links,Ue.url,n["@id"]+"_node")}}else Re.views.push(d),jt(Re.links,Ue.url,n["@id"]+"_node")};for(n.s();!(t=n.n()).done;)a()}catch(r){n.e(r)}finally{n.f()}}}))}function yt(e){if(!oe.collections||!oe.collections.size>0||!Array.from(oe.collections.values())[0]["@type"]){var t=Array.from(Ue.store.getQuads(Ue.url,Ye+"type",null,null).map((function(e){return e.object.id})))[0];Ne.mainInfo=t?"Collection type: "+t+"\n":""}Ne.attributes={};var n,a=Object(le["a"])(tt);try{for(a.s();!(n=a.n()).done;){var i=Object(r["a"])(n.value,2),o=i[0],l=i[1],s=Ue.store.getQuads(Ue.url,l,null,null).map((function(e){return e.object.id}));1==s.length?Ne.attributes[o]=s[0]:s.length>0&&(Ne.attributes[o]=JSON.stringify(s))}}catch(c){a.e(c)}finally{a.f()}e&&e()}function jt(e,t,n){e.has(t)?e.get(t).add(n):e.set(t,new Set([n]))}function Ot(e,t){e.delete(t);var n,a=Object(le["a"])(e.values());try{for(a.s();!(n=a.n()).done;){var r=n.value;r.delete(t)}}catch(i){a.e(i)}finally{a.f()}}function wt(e){return xt.apply(this,arguments)}function xt(){return xt=Object(se["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,l,s,c,d,u,f,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=function(){n(),r(),o()},a=new Promise((function(e){n=e})),i=new Promise((function(e){r=e})),l=new Promise((function(e){o=e})),Le=[],s=!0,d=new Promise((function(e){c=e})),Promise.all([a,i,l]).then((function(){return c({jsondata:Re,members:Ee,membersFailed:Se,remarks:Be,data_url:Ce,shape_validation:Ie,nodeValidation:Te,collectionStats:Ne,relationLabelMap:Me,redirectMappings:Ae,dereferenced:s})})),t?Ce=t:Ce?at():(alert("No starting point defined."),at(),u()),!Qe.has(Ce)){e.next=13;break}return u(),s=!1,e.abrupt("return",d);case 13:if(!Ae.has(Ce)||!Qe.has(Ae.get(Ce))){e.next=17;break}return u(),s=!1,e.abrupt("return",d);case 17:return Be.set(Ce,""),e.next=20,fe.a.dereference(Ce).catch((function(e){"Error: Error requesting"===(""+e).slice(0,23)?alert("This website may not have CORS enabled.\n"+e):alert(e)}));case 20:return f=e.sent,h=f.quads,p=f.url,Pe.set(p,Ce),h.on("data",(function(e){Le.push(e)})).on("error",(function(e){console.error(e);var t="Error while parsing data at:\n"+Ce+".\n\n"+e+"\n";Be.set(Ce,Be.get(Ce).concat(t))})).on("end",(function(){ge(Le).then((function(e){Qe.add(p),Ce!=p&&Ae.set(Ce,p),Ae.has(Ce)&&(Re.nodes=Re.nodes.filter((function(e){return e.name!=Ce&&!Ae.has(e.name)})),Ot(Re.links,Ce+"_node")),oe=e;var t=new pe["a"](Le);if(e.collections.size>1){var a="";a+="Warning: found multiple collections. This is not supported.\n",a+=JSON.stringify(Array.from(e.collections.entries()),null,"/t"),a+="\ncheck tree:view, hydra:view, void:subset, dct:isPartOf, as:partOf.",a+="\nOther causes: \nmembers/shape are linked not to the collection but the node.",a+="\ncheck tree:member, hydra:member, as:items, ldp:contains.",a+="Will try creating a graph using only the first collection.\n",Be.set(Ce,Be.get(Ce).concat(a+"\n")),alert(a)}if(0==e.collections.size){if(0==Re.collection.length){var i="No collection pre-defined and no collection found at "+Ce+".\nPlease provide a different starting URL.\n";return Be.set(Ce,Be.get(Ce).concat(i)),alert(i),u(),d}if(!Re[Ce+"_node"]&&!Re[p+"_node"]){Re[Ce+"_node"]=[];var l="No collection metadata found at "+Ce+".\nWill add an empty node for this URL.\n";Be.set(Ce,Be.get(Ce).concat(l)),Re.nodes=Re.nodes.filter((function(e){return e.name!=Ce})),Re.nodes.push({id:Ce+"_node",name:Ce,relation_count:0,type:"Node"})}}if(Ne.rootInfo="",0==e.collections.size)r(),o();else if(Ce!=Array.from(e.collections.keys())[0]){var s=Array.from(e.collections.keys())[0];mt(s,o)}else Ne.rootInfo="Your IRI points towards the root of this collection.\n",Ue.url=Ce,Ue.store=new pe["a"](Le),yt(o);var c,f=Object(le["a"])(e.collections.keys());try{for(f.s();!(c=f.n()).done;){var h=c.value,v=e.collections.get(h);if(v["@type"]&&(Ne.mainInfo="Collection type: "+v["@type"][0]+"\n",v["@type"][0]==Ze+"EventStream"&&(Ne.mainInfo+="This is an LDES event stream, all members are immutable")),0==Re.collection.length)_t(h,v);else if(kt(h))return u(),d;It(v,e,h),Ct(v,e,h),Tt(e,t,v,r)}}catch(k){f.e(k)}finally{f.f()}var m,g=Object(le["a"])(e.nodes.keys());try{for(g.s();!(m=g.n()).done;){var b=m.value;Re.links.delete(b+"_node");var y=e.nodes.get(b);Re[b+"_node"]=[];var j,O=Object(le["a"])(y.relation);try{for(O.s();!(j=O.n()).done;){var w=j.value;Re[b+"_node"].push({id:w["@id"],name:w["@id"]})}}catch(k){O.e(k)}finally{O.f()}}}catch(k){g.e(k)}finally{g.f()}if(Rt(e),0==Re.shapes.length&&e.collections.get(h).shape){var x=dt(t);st(t,x[0]).then((function(e){Re.shapes.push({id:x[0],type:"shape",shape_extra:e}),jt(Re.links,h,x[0]),He=new Set,n()}))}else He=new Set,n()}))})),e.abrupt("return",d);case 26:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}function kt(e){var t=!1;if(Re.collection.length>0){var n,a=Object(le["a"])(Re.collection);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.id!=e&&(t=!0)}}catch(o){a.e(o)}finally{a.f()}}if(t){var i="";i+="Warning: new node is linked to a different collection. This is not supported.",i+="\ncurrent URL: "+Ce,i+="\nnew collection: "+e,i+="\noriginal collection: "+Re.collection[0].id,Be.set(Ce,Be.get(Ce).concat(i+"\n")),alert(i)}return t}function _t(e,t){var n={};n.id=e,n.type="Collection",n.vocab=t["@context"]["@vocab"];var a,r=Object(le["a"])(Je);try{for(r.s();!(a=r.n()).done;){var i=a.value;t[i]&&(n[i]=t[i])}}catch(o){r.e(o)}finally{r.f()}Re.collection.push(n)}function Rt(e){var t=[],n=[],a=new Map,r=e.nodes.keys();0==e.nodes.size&&(r=[Ce],Re.links.delete(Ce+"_node"),Re[Ce+"_node"]=[]);var i,o=Object(le["a"])(r);try{for(o.s();!(i=o.n()).done;){var l=i.value,s=l+"_node";t.push(s),Pe.has(l)&&(a.set(Pe.get(l)+"_node",s),n.push(Pe.get(l)+"_node")),Re[s].remainingItems=0;var c,d=Object(le["a"])(Re[s]);try{for(d.s();!(c=d.n()).done;){var u=c.value;e.relations.get(u.id)&&Et(u,e,s,l)}}catch(f){d.e(f)}finally{d.f()}Bt(t,n,a)}}catch(f){o.e(f)}finally{o.f()}}function Et(e,t,n,a){var r=t.relations.get(e.id);if(r.node&&r.node[0]["@id"]){Re.nodes.every((function(e){return e.name!=r.node[0]["@id"]&&!Pe.has(r.node[0]["@id"])}))&&(Re.nodes.push({id:r.node[0]["@id"]+"_node",name:r.node[0]["@id"]}),jt(Re.links,n,r.node[0]["@id"]+"_node")),e.node=r.node,jt(Ve,n,r.node[0]["@id"]+"_node"),r["@type"]?e.type=r["@type"]:Be.set(Ce,Be.get(Ce).concat("relation from "+a+" to "+r.node[0]["@id"]+" has no type defined\n")),r["remainingItems"]&&(Re[n].remainingItems+=Number(r["remainingItems"][0]["@value"]));for(var i=["path","value","remainingItems"],o=0,l=i;o<l.length;o++){var s=l[o];r[s]?e[s]=r[s]:"remainingItems"!=s&&Be.set(Ce,Be.get(Ce).concat("relation from "+a+" to "+r.node[0]["@id"]+" has no "+s+" defined\n"))}St(r,n);var c,d=Object(le["a"])(De);try{for(d.s();!(c=d.n()).done;){var u=c.value;r[u]&&(e[u]=r[u])}}catch(h){d.e(h)}finally{d.f()}Re[r.node[0]["@id"]+"_node"]&&jt(Re.links,n,r.node[0]["@id"]+"_node"),Pe.has(r.node[0]["@id"])&&Re[Pe.get(r.node[0]["@id"])+"_node"]&&jt(Re.links,n,Pe.get(r.node[0]["@id"])+"_node")}else{var f="Error: relation from "+n+" has no node defined!\nThis is not allowed!\nRelation: "+JSON.stringify(r,null,"\t")+"\n\n";Be.set(Ce,Be.get(Ce).concat(f))}}function St(e,t){if(e["value"]){var n,a="",r=Object(le["a"])(e["value"]);try{for(r.s();!(n=r.n()).done;){var i=n.value;a+=i["@value"]+", "}}catch(o){r.e(o)}finally{r.f()}a=a.slice(0,-2),e["@type"]&&e["@type"][0]?Me.set(t+e.node[0]["@id"]+"_node",e["@type"][0].split("#")[1]+" "+a):Me.set(t+e.node[0]["@id"]+"_node","relation: "+a)}else e["@type"]&&e["@type"][0]&&Me.set(t+e.node[0]["@id"]+"_node",e["@type"][0].split("#")[1])}function Bt(e,t,n){var a,i=Object(le["a"])(Ve);try{for(i.s();!(a=i.n()).done;){var o,l=Object(r["a"])(a.value,2),s=l[0],c=l[1],d=Object(le["a"])(c);try{for(d.s();!(o=d.n()).done;){var u=o.value;e.includes(u)?jt(Re.links,s,u):t.includes(u)&&jt(Re.links,s,n.get(u))}}catch(f){d.e(f)}finally{d.f()}}}catch(f){i.e(f)}finally{i.f()}}function Ct(e,t,n){var a=[];if(e.subset&&(a=a.concat(e.subset)),t.nodes&&(a=a.concat(Array.from(t.nodes.values()))),e.subset||t.nodes){var r,i=Object(le["a"])(a);try{var o=function(){var e=r.value;t.nodes.has(e["@id"])&&(e=t.nodes.get(e["@id"]));var a={};a.id=e["@id"]+"_node",a.name=e["@id"],t.nodes&&t.nodes.get(e["@id"])&&t.nodes.get(e["@id"]).relation?a.relation_count=t.nodes.get(e["@id"]).relation.length:a.relation_count=0;var i,o=Object(le["a"])(Fe);try{for(o.s();!(i=o.n()).done;){var l=i.value;e[l]&&(a[l]=e[l])}}catch(c){o.e(c)}finally{o.f()}var s=!1;Re.views=Re.views.filter((function(e){return e.name==a.name&&(s=!0),e.name!=a.name})),s?(a.type="View",Re.views.push(a),jt(Re.links,n,e["@id"]+"_node")):(Re.nodes=Re.nodes.filter((function(t){return t.name!=e["@id"]})),a.type="Node",Re.nodes.push(a))};for(i.s();!(r=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}}}function It(e,t,n){if(e.view){var a,r=Object(le["a"])(e.view);try{var i=function(){var e=a.value,r=!1;if(!t.nodes.has(e["@id"])){var i,o=Object(le["a"])(Re.views.concat(Re.nodes));try{for(o.s();!(i=o.n()).done;){var l=i.value;l.name==e["@id"]&&(r=!0)}}catch(f){o.e(f)}finally{o.f()}}var s={};if(s.id=e["@id"]+"_node",s.name=e["@id"],s.type="View",r||t.nodes.has(e["@id"])){if(!r){e=t.nodes.get(e["@id"]),Re.nodes=Re.nodes.filter((function(t){return t.name!=e["@id"]})),t.nodes&&t.nodes.get(e["@id"])&&t.nodes.get(e["@id"]).relation?s.relation_count=t.nodes.get(e["@id"]).relation.length:s.relation_count=0;var c,d=Object(le["a"])(Fe);try{for(d.s();!(c=d.n()).done;){var u=c.value;e[u]&&(s[u]=e[u])}}catch(f){d.e(f)}finally{d.f()}Re.views.push(s),jt(Re.links,n,e["@id"]+"_node")}}else Ce==s.name&&(s.relation_count=0),Re.views.push(s),jt(Re.links,n,e["@id"]+"_node")};for(r.s();!(a=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}}function Tt(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(e.nodes&&e.nodes.size>0){var r,i=Object(le["a"])(e.nodes.values());try{for(i.s();!(r=i.n()).done;){var o=r.value;rt(o)}}catch(f){i.e(f)}finally{i.f()}var l=[];l=e.nodes.size>0?Array.from(e.nodes.keys()):[Ce];var s,c=Object(le["a"])(l);try{for(c.s();!(s=c.n()).done;){var d=s.value;Ee[d]=new Map}}catch(f){c.e(f)}finally{c.f()}ze.forEach((function(e,n){He.has(n)&&t.addQuads(e),He.delete(n)}));var u=Object(de["a"])(He).map((function(e){return new Promise((function(n,a){var r=[];fe.a.dereference(e).catch((function(e){console.error(e),n()})).then((function(i){i.quads.on("data",(function(e){r.push(e)})).on("error",(function(t){console.error(t);var n="Error while parsing import data at:\n"+e+"\n\n"+t+"\n";Be.set(Ce,Be.get(Ce).concat(n)),a()})).on("end",(function(){ze.set(e,r),t.addQuads(r),n()}))})).catch((function(e){console.error(e),n()}))}))}));Promise.all(u).then((function(){if(n.member){var e=[],r=n.member.map((function(n){return new Promise((function(a){e.push(n["@id"]),ot(t,n["@id"]).then((function(e){var t,r=Object(le["a"])(l);try{for(r.s();!(t=r.n()).done;){var i=t.value;Ee[i].set(n["@id"],e)}}catch(f){r.e(f)}finally{r.f()}a()}))}))}));Promise.all(r).catch((function(e){console.error(e),a()})).then((function(){At(e,t,l,a)})).catch((function(){return a()}))}else Be.set(Ce,Be.get(Ce).concat("Found no members at "+Ce+".\n")),a()}))}else a()}function Nt(e){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(se["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Oe({factory:je}),e.t0=je.dataset(),e.t1=n,e.next=5,t;case 5:return e.t2=e.sent,e.t3=e.t1.import.call(e.t1,e.t2),e.abrupt("return",e.t0.import.call(e.t0,e.t3));case 8:case"end":return e.stop()}}),e)}))),Mt.apply(this,arguments)}function At(e,t,n,a){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(se["a"])(regeneratorRuntime.mark((function e(t,n,a,r){var i,o,l,s,c,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=Object(le["a"])(a);try{for(i.s();!(o=i.n()).done;)l=o.value,Se[l]=[],Te[l]={}}catch(f){i.e(f)}finally{i.f()}if(s=dt(n),s.size>1&&(c="Found multiple shapes, will only validate using the first one.\n"+JSON.stringify(s),Be.set(Ce,Be.get(Ce).concat(c))),0!=s.size){e.next=8;break}return Be.set(Ce,Be.get(Ce).concat("URL did not include a shacl shape given via tree:shape or st:validatedBy.\n")),r(),e.abrupt("return");case 8:d=ft(n,s[0]),u=vt(n,t),Nt(d).then((function(e){Nt(u).then((function(t){var n,i=[],o=Object(le["a"])(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;"BlankNode"!=l.object.termType||i.includes(l.object.value)||(l.object.value=l.object.value.slice(3),i.push(l.object.value)),"BlankNode"!=l.subject.termType||i.includes(l.subject.value)||(l.subject.value=l.subject.value.slice(3),i.push(l.subject.value))}}catch(f){o.e(f)}finally{o.f()}var s=new we(e,{factory:je}),c=s.validate(t);Ie=(!Ie||!1!==Ie)&&c.conforms;var d,u=Object(le["a"])(c.results);try{for(u.s();!(d=u.n()).done;){var h=d.value,p="";p+="\nmessage: \n";var v,m=Object(le["a"])(h.message);try{for(m.s();!(v=m.n()).done;){var g=v.value;p+="\t"+g["value"]+"\n"}}catch(f){m.e(f)}finally{m.f()}p+="path: "+h.path["value"]+"\n",p+="focusNode: "+h.focusNode["value"]+"\n",p+="severity: "+h.severity["value"]+"\n",p+="sourceConstraintComponent: "+h.sourceConstraintComponent["value"]+"\n",p+="sourceShape: "+h.sourceShape["value"]+"\n";var b,y=Object(le["a"])(a);try{for(y.s();!(b=y.n()).done;){var j=b.value;Se[j].push(h.focusNode["value"]),h.focusNode&&h.focusNode["value"]&&(Te[j][h.focusNode["value"]]=p)}}catch(f){y.e(f)}finally{y.f()}}}catch(f){u.e(f)}finally{u.f()}r()})).catch((function(e){console.error("Error with members while validating\n"+e),r()}))})).catch((function(e){console.error("Error with shape while validating\n"+e),r()}));case 11:case"end":return e.stop()}}),e)}))),Pt.apply(this,arguments)}var Lt,Ht,zt,Ut,Qt,Vt,Wt,Jt,Ft,Dt,Gt,qt,Yt,Xt,$t,Kt,Zt;n("07ac"),n("466d"),n("5319");function en(e,t,n,a,r,i,o){Lt=e,Ht=t,zt=n,Ut=a,Qt=r,Vt=i,Wt=o}function tn(e){var t;if(Jt=Lt[0],Ft=Ht[0],Ht[0].selectAll("g").remove(),zt(void 0),Ut[e.id]&&Ut[e.id].remainingItems>0&&zt("Remaining items identified via relation properties for selected resource: "+Ut[e.id].remainingItems+".\n"),void 0!==e.relation_count&&(t=Ft.append("g").attr("class","new_g"),Gt=t.append("text"),rn.call(this,e,Gt)),e.relation_count&&e.relation_count>0&&an.call(this,e,Gt,t),void 0!==e.relation_count){var n=Ft.node().getBBox();Jt.attr("viewBox","0,0,"+(n.width+n.x)+","+(n.height+n.y)).attr("width",n.width+n.x).attr("height",n.height+n.y)}}function nn(e){if(document.getElementById("currentPageTableHolder")){document.getElementById("currentPageTableHolder").setAttribute("width",e-60);var t=document.getElementById("currentPageTable").offsetHeight;document.getElementById("currentPageTableHolder").setAttribute("height",t);var n=Ft.node().getBBox();Jt.attr("viewBox","0,0,"+(n.width+n.x)+","+(n.height+n.y)).attr("width",n.width+n.x).attr("height",n.height+n.y)}}function an(e,t,n){Dt=t.node().getBBox().height+30;var a=document.getElementById("currentPage").getBoundingClientRect().width,r=n.append("svg:foreignObject").attr("id","currentPageTableHolder").attr("x",22).attr("y",Dt).attr("width",a-60).attr("height",600),i=r.append("xhtml:table").attr("id","currentPageTable"),o=i.append("thead"),l=i.append("tbody").attr("id","my_tbody"),s=["type","value","path"],c=on.call(this,e),d=o.append("tr");d.selectAll("th").data(s).enter().append("th").text((function(e){return e})),d.append("th").text(""),l=document.getElementById("my_tbody");var u,f=0,h=Object(le["a"])(c);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=l.insertRow();v.id="small"+f;for(var m=0,g=Object.values(p);m<g.length;m++){var b=g[m],y=document.createTextNode(b),j=v.insertCell();j.appendChild(y)}var O=v.insertCell(),w=document.createElement("button");w.onclick=ln.bind(this,f,Ut[e.id][f],n,r,i,!0),w.innerHTML="Expand",O.appendChild(w);var x=document.createElement("button");x.innerHTML="Follow",x.setAttribute("count",f),x.onclick=function(){Qt(Ut[e.id][this.getAttribute("count")]),Vt(Ut[e.id][this.getAttribute("count")].node[0]["@id"])},O.appendChild(x),v=l.insertRow(),v.style.visibility="collapse",v.id="large"+f;var k=document.createTextNode(sn.call(this,Ut[e.id][f])),_=document.createElement("div");_.classList.add("tableTextContainer"),_.appendChild(k),O=v.insertCell(),O.classList.add("spacing"),O.colSpan=s.length+1,O.appendChild(_);var R=document.createElement("button");R.onclick=ln.bind(this,f,Ut[e.id][f],n,r,i,!1),R.innerHTML="Collapse",O.appendChild(R);var E=document.createElement("button");E.innerHTML="Follow",E.setAttribute("count",f),E.onclick=function(){Qt(Ut[e.id][this.getAttribute("count")]),Vt(Ut[e.id][this.getAttribute("count")].node[0]["@id"])},O.appendChild(E),f++}}catch(B){h.e(B)}finally{h.f()}var S=i.node();r.attr("width",S.offsetWidth).attr("height",S.offsetHeight)}function rn(e,t){t.append("tspan").text(e.type).attr("dy",22).attr("dx",5),t.append("tspan").text((function(){return e.name.length>70?e.name.slice(0,45)+"..."+e.name.slice(-15):e.name})).attr("dy",22).attr("x",0).attr("dx",5).on("click",(function(){navigator.clipboard.writeText(e.name)})).append("title").text("Click to copy link\n"+e.name),t.append("tspan").text("relations: "+e.relation_count).attr("dy",22).attr("x",0).attr("dx",15);var n=0;Wt[e.name]&&Wt[e.name].size>0&&(n=Wt[e.name].size),t.append("tspan").text("members: "+n).attr("dy",22).attr("x",0).attr("dx",15);var a,r=Object(le["a"])(Fe);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(e[i]){t.append("tspan").text("".concat(i,":")).attr("dy",22).attr("x",0).attr("dx",5);for(var o=0,l=Object.values(e[i]);o<l.length;o++){var s,c=l[o],d=JSON.stringify(c,null,"\t").split("\n"),u=/^(\t*{\t*)|(\t*}\t*)|(\t*],*\t*)$/g,f=Object(le["a"])(d);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(!h.match(u)){var p=20*(h.split("\t").length-1);t.append("tspan").text(" "+h.replace(": [",": ")).attr("dy",22).attr("dx",p+5).attr("x",0)}}}catch(v){f.e(v)}finally{f.f()}}}}}catch(v){r.e(v)}finally{r.f()}}function on(e){var t,n=[],a=Object(le["a"])(Ut[e.id]);try{for(a.s();!(t=a.n()).done;){var r=t.value,i={};if(r.type?i.type=(r.type+"").split("#").pop():i.type="No Type",r.value){var o,l="",s=Object(le["a"])(r.value);try{for(s.s();!(o=s.n()).done;){var c=o.value;c["@value"]?l+=c["@value"]+", ":l+="Nested value, expand to view"}}catch(p){s.e(p)}finally{s.f()}i.value=l.slice(0,-2)}else i.value="No Value";if(r.path){var d,u="",f=Object(le["a"])(r.path);try{for(f.s();!(d=f.n()).done;){var h=d.value;h["@id"]?u+=h["@id"]:u+="Nested path, expand to view"}}catch(p){f.e(p)}finally{f.f()}i.path=u}else i.path="No Path";n.push(i)}}catch(p){a.e(p)}finally{a.f()}return n}function ln(e,t,n,a,r){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(window.event.ctrlKey)return Qt(t),void Vt(t.node[0]["@id"]);!0===i?(document.getElementById("large"+e).style.visibility="visible",document.getElementById("small"+e).style.visibility="collapse"):(document.getElementById("small"+e).style.visibility="visible",document.getElementById("large"+e).style.visibility="collapse");var o=r.node();a.attr("width",o.offsetWidth).attr("height",o.offsetHeight);var l=Ft.node().getBBox();Jt.attr("viewBox","0,0,"+(l.width+l.x)+","+(l.height+l.y)).attr("width",l.width+l.x).attr("height",l.height+l.y)}function sn(e){var t=/^(\t*{\t*)|(\t*}\t*)|(\t*],*\t*)$/g,n="";if(e.type?n+="type: "+e.type+"\n":n+="Relation has no type\n",e.value){var a,r=Object(le["a"])(e.value);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i["@value"])n+="value: "+i["@value"]+"\n";else{n+="value: \n";var o,l=JSON.stringify(i,null,"\t").split("\n"),s=Object(le["a"])(l);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.match(t)||("["==c.slice(-1)?n+=c.slice(0,-1)+"\n":n+=c+"\n")}}catch(N){s.e(N)}finally{s.f()}}}}catch(N){r.e(N)}finally{r.f()}}else n+="Relation has no value\n";if(e.path){var d,u=Object(le["a"])(e.path);try{for(u.s();!(d=u.n()).done;){var f=d.value;if(f["@id"])n+="path: "+f["@id"]+"\n";else{n+="path: \n";var h,p=JSON.stringify(f,null,"\t").split("\n"),v=Object(le["a"])(p);try{for(v.s();!(h=v.n()).done;){var m=h.value;m.match(t)||("["==m.slice(-1)?n+=m.slice(0,-1)+"\n":n+=m+"\n")}}catch(N){v.e(N)}finally{v.f()}}}}catch(N){u.e(N)}finally{u.f()}}else n+="Relation has no path\n";if(e.node){var g,b=Object(le["a"])(e.node);try{for(b.s();!(g=b.n()).done;){var y=g.value;n+="node: "+y["@id"]+"\n"}}catch(N){b.e(N)}finally{b.f()}}else n+="Relation has no node\n";if(e.remainingItems){var j,O=Object(le["a"])(e.remainingItems);try{for(O.s();!(j=O.n()).done;){var w=j.value;n+="remainingItems: "+w["@value"]+"\n",w["@type"]&&(n+="remainingItemsType: "+w["@type"]+"\n")}}catch(N){O.e(N)}finally{O.f()}}var x,k=Object(le["a"])(De);try{for(k.s();!(x=k.n()).done;){var _=x.value;if(e[_]){n+="".concat(_,":")+"\n";for(var R=0,E=Object.values(e[_]);R<E.length;R++){var S,B=E[R],C=JSON.stringify(B,null,"\t").split("\n"),I=Object(le["a"])(C);try{for(I.s();!(S=I.n()).done;){var T=S.value;T.match(t)||("["==T.slice(-1)?n+=T.slice(0,-1)+"\n":n+=T+"\n")}}catch(N){I.e(N)}finally{I.f()}}}}}catch(N){k.e(N)}finally{k.f()}return n}function cn(e,t,n,a,r){qt=e,Yt=t,Xt=n,$t=a,Zt=r}function dn(e){Kt=document.getElementById(Zt),qt[e.name]?Xt("Number of members found for selected resource: "+qt[e.name].size+".\n"):Xt("Number of members found for selected resource: 0.\n"),Kt.replaceChildren(),un(e)}function un(e){if(qt[e.name]&&0!=qt[e.name].size||Kt.appendChild(document.createTextNode("This node has no members.")),Yt&&Yt[e.name]){var t,n=Object(le["a"])(Yt[e.name]);try{for(n.s();!(t=n.n()).done;){var a=t.value,r=document.createElement("details"),i=document.createElement("summary");r.classList.add("failedMember"),i.appendChild(document.createTextNode(a)),r.appendChild(i);var o=document.createElement("div");o.appendChild(document.createTextNode(qt[e.name].get(a)+"\n"+$t[e.name][a])),o.style["margin-left"]="1.5rem",r.appendChild(o),Kt.appendChild(r)}}catch(f){n.e(f)}finally{n.f()}}if(qt[e.name]){var l,s=Object(le["a"])(qt[e.name].keys());try{for(s.s();!(l=s.n()).done;){var c=l.value;if(!Yt[e.name]||!Yt[e.name].includes(c)){var d=document.createElement("details"),u=document.createElement("summary");u.appendChild(document.createTextNode(c)),d.appendChild(u),d.appendChild(document.createTextNode(qt[e.name].get(c))),Kt.appendChild(d)}}}catch(f){s.e(f)}finally{s.f()}}}n("a15b");var fn,hn,pn,vn,mn,gn,bn,yn,jn=.5,On=100;function wn(e,t,n,a,r){fn=e,hn=t,bn=n,mn=a,yn=r}function xn(e){pn&&(pn.selectAll("rect").style("stroke-width","1").style("fill","white"),pn.selectAll(".node_g[url_id='"+e.id+"'], .view_g[url_id='"+e.id+"']").selectAll("rect").style("stroke-width","3").style("fill","url(#diagonalHatch)"))}function kn(){var e=document.getElementById(bn).offsetWidth,t=document.getElementById(bn).offsetHeight;ce["f"]("#"+bn).selectAll("svg").remove();var n=[];hn.links.forEach((function(e,t){e.forEach((function(e){return n.push({source:t,target:e})}))}));var a=n.map((function(e){return e.target}));hn.nodes.forEach((function(e){a.includes(e.id)||(n.push({source:hn.collection[0].id,target:e.id,fakeLink:!0}),mn.set(hn.collection[0].id+e.id,"subset"))})),pn=ce["f"]("#"+bn).append("svg").attr("width","100%").attr("height","100%").attr("pointer-events","all");var r=hn.collection.concat(hn.shapes.concat(hn.nodes.concat(hn.views)));if(pn.attr("prevTX",0).attr("prevTY",0).attr("scaleAll",1),pn.append("marker").attr("id","arrow").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",0).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",2).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","gray"),pn.append("defs").append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",4).append("path").attr("d","M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2").attr("stroke","#cef5ce").attr("stroke-width",1),vn=pn.selectAll(".edgepath").data(n).enter().append("polyline").style("stroke","gray").style("pointer-events","none").style("stroke-width",.5).style("stroke-dasharray",(function(e){return e.fakeLink?"10, 5":"10, 0"})).attr("marker-mid","url(#arrow)"),gn=pn.selectAll(".linkLabel").data(n).enter().append("text").text((function(e){if(!mn.has(""+e.source+e.target))return"";var t=mn.get(""+e.source+e.target);return t.length>25?t.slice(0,18)+"..."+t.slice(-5):t})),gn.append("title").text((function(e){return mn.get(""+e.source+e.target)})),hn.collection.length>0){var i=pn.selectAll("gcollection").data(hn.collection).join("g").attr("class","collection_g main_g").attr("expanded","false").on("click",Tn).call(ce["a"]().on("start",Bn).on("end",In).on("drag",Cn));i.append("text").attr("text-anchor","start").attr("class","collection_text main_text").attr("dy",20).attr("dx",5).text((function(e){return(e.type+"").split("#").pop()})).raise(),i.append("rect").attr("class","collection_rect main_rect").attr("width",i.select("text").node().getBBox().width+15).attr("height",i.select("text").node().getBBox().height+10).style("stroke","#2cbe16").lower()}if(hn.views.length>0){var o=pn.selectAll("gview").data(hn.views).join("g").attr("class","view_g main_g").on("click",(function(e,t){pn.selectAll("rect").style("stroke-width","1").style("fill","white"),yn(t.name),ce["f"](this).selectAll("rect").style("stroke-width","3").style("fill","url(#diagonalHatch)")})).call(ce["a"]().on("start",Bn).on("end",In).on("drag",Cn)).attr("url_id",(function(e){return e.id}));o.append("text").attr("text-anchor","start").attr("class","view_text main_text").attr("dx",5).attr("dy",20).text("").raise();var l,s=Object(le["a"])(ce["g"](".view_g"));try{for(s.s();!(l=s.n()).done;){var c=l.value;ce["f"](c).select("text").append("tspan").text((function(e){return e.name.length>25?e.name.slice(0,18)+"..."+e.name.slice(-5):e.name})).attr("dx",5).on("click",(function(e,t){navigator.clipboard.writeText(t.name)})).append("title").text((function(e){return"click to copy link\n"+e.name})),ce["f"](c).selectAll("tspan").attr("x",0).attr("dy",22),ce["f"](c).append("rect").attr("class","view_rect main_rect").attr("width",ce["f"](c).select("text").node().getBBox().width+15).attr("height",ce["f"](c).select("text").node().getBBox().height+10).style("stroke",fn).style("stroke-dasharray","10,5").style("stroke-linecap","butt").style("stroke-width",(function(e){return e.selected?"3":"1"})).style("fill",(function(e){return e.selected?"url(#diagonalHatch)":"white"})).lower()}}catch(m){s.e(m)}finally{s.f()}}if(hn.shapes.length>0){var d=pn.selectAll("gshape").data(hn.shapes).join("g").attr("class","shape_g main_g").attr("expanded","false").on("click",An).call(ce["a"]().on("start",Bn).on("end",In).on("drag",Cn));d.append("text").attr("text-anchor","start").attr("class","shape_text main_text").attr("dy",20).attr("dx",5).text((function(e){return(e.type+"").split("#").pop()})).raise(),d.append("rect").attr("class","shape_rect main_rect").attr("width",d.select("text").node().getBBox().width+15).attr("height",d.select("text").node().getBBox().height+10).style("stroke","#5e915a").lower()}if(hn.nodes.length>0){var u=pn.selectAll("gnode").data(hn.nodes).join("g").attr("class","node_g main_g").on("click",(function(e,t){pn.selectAll("rect").style("stroke-width","1").style("fill","white"),yn(t.name),ce["f"](this).selectAll("rect").style("stroke-width","3").style("fill","url(#diagonalHatch)")})).call(ce["a"]().on("start",Bn).on("end",In).on("drag",Cn)).attr("url_id",(function(e){return e.id}));u.append("text").attr("text-anchor","start").attr("class","node_text main_text").attr("dx",5).attr("dy",20).text("").raise();var f,h=Object(le["a"])(ce["g"](".node_g"));try{for(h.s();!(f=h.n()).done;){var p=f.value;ce["f"](p).select("text").append("tspan").text((function(e){return e.name.length>25?e.name.slice(0,18)+"..."+e.name.slice(-5):e.name})).attr("dx",5).on("click",(function(e,t){navigator.clipboard.writeText(t.name)})).append("title").text((function(e){return"click to copy link\n"+e.name})),ce["f"](p).selectAll("tspan").attr("x",0).attr("dy",22),ce["f"](p).append("rect").attr("class","node_rect main_rect").attr("width",ce["f"](p).select("text").node().getBBox().width+15).attr("height",ce["f"](p).select("text").node().getBBox().height+10).style("stroke",fn).style("stroke-dasharray","10,5").style("stroke-linecap","butt").style("stroke-width",(function(e){return e.selected?"3":"1"})).style("fill",(function(e){return e.selected?"url(#diagonalHatch)":"white"})).lower()}}catch(m){h.e(m)}finally{h.f()}}ce["e"](r).force("link",ce["d"]().id((function(e){return e.id})).links(n)).force("center",ce["b"](e/2,t/2)).force("collide",ce["c"](On)).alphaDecay(jn).on("end",_n);var v=ce["h"]();v.on("zoom",(function(e){ce["g"](".main_g").attr("transform",(function(){return"translate("+(e.transform.x-pn.attr("prevTX"))+","+(e.transform.y-pn.attr("prevTY"))+")scale("+e.transform.k+")"})),En(),vn.attr("transform",(function(){return"translate("+(e.transform.x-pn.attr("prevTX"))+","+(e.transform.y-pn.attr("prevTY"))+")scale("+e.transform.k+")"}))})),v.on("end",(function(e){ce["g"](".main_g").attr("x",(function(t){t.x+=e.transform.x*(1/e.transform.k)-pn.attr("prevTX")*(1/e.transform.k)})).attr("y",(function(t){t.y+=e.transform.y*(1/e.transform.k)-pn.attr("prevTY")*(1/e.transform.k)})).attr("transform",(function(){return"scale("+e.transform.k+")"})),pn.attr("prevTX",e.transform.x).attr("prevTY",e.transform.y).attr("scaleAll",e.transform.k),Sn(),En()})),pn.call(v)}function _n(){Rn(),Sn(),En()}function Rn(){ce["g"](".maing_g").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),Sn(),En()}function En(){var e=1;pn.attr("scaleAll")&&(e=pn.attr("scaleAll")),vn.attr("transform","scale("+e+")"),vn.attr("points",(function(e){return[e.source.x,e.source.y,e.source.x/2+e.target.x/2,e.source.y/2+e.target.y/2,e.target.x,e.target.y].join(",")})),gn.attr("transform",(function(t){var n=180*Math.atan((t.source.y-t.target.y)/(t.source.x-t.target.x))/Math.PI;return n||(n=0),"translate("+[(t.source.x+t.target.x)*e/2,(t.source.y+t.target.y)*e/2]+")rotate("+n+")scale("+e+")"})).attr("y",(function(e){return e.source.x>e.target.x?"-10":"15"})).attr("x",(function(){return ce["f"](this).node().getBBox()?-1*ce["f"](this).node().getBBox().width/2:0}))}function Sn(){ce["g"](".main_text, .main_rect").attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),pn.selectAll("tspan").attr("x",(function(e){return e.x}))}function Bn(){ce["f"](this).attr("stroke","black")}function Cn(e,t){ce["f"](this).attr("x",t.x=e.x).attr("y",t.y=e.y),Rn()}function In(){ce["f"](this).attr("stroke",null),Rn()}function Tn(e,t){var n=ce["f"](e.target.parentNode);n.classed("collection_g")||(n=ce["f"](n._groups.pop().pop().parentNode)),Nn(n,t),Rn()}function Nn(e,t){"false"==e.attr("expanded")?(e.attr("expanded","true"),Mn(e,t)):(e.attr("expanded","false"),e.select("text").text((t.type+"").split("#").pop()),e.select("rect").attr("width",1),e.select("rect").attr("height",30).attr("width",e.node().getBBox().width+10))}function Mn(e,t){e.raise();var n=e.select("text");n.text(""),n.append("tspan").text("Collection").attr("dx",5),n.append("tspan").text(t.id).attr("dx",15);var a,r=Object(le["a"])(Je);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(t[i]){n.append("tspan").text("".concat(i,":")).attr("dx",5);for(var o=0,l=Object.values(t[i]);o<l.length;o++){var s,c=l[o],d=JSON.stringify(c,null,"\t").split("\n"),u=/^(\t*{\t*)|(\t*}\t*)|(\t*],*\t*)$/g,f=Object(le["a"])(d);try{for(f.s();!(s=f.n()).done;){var h=s.value;if(!h.match(u)){var p=20*(h.split("\t").length-1);n.append("tspan").text(" "+h.replace(": [",": ")).attr("dx",p+15)}}}catch(v){f.e(v)}finally{f.f()}}}}}catch(v){r.e(v)}finally{r.f()}n.selectAll("tspan").attr("dy",22).attr("x",0),e.select("rect").attr("height",10+e.select("text").node().getBBox().height),e.select("rect").attr("width",e.select("text").node().getBBox().width+10)}function An(e,t){var n=ce["f"](e.target.parentNode);n.classed("shape_g")||(n=ce["f"](n._groups.pop().pop().parentNode)),Pn(n,t),Rn()}function Pn(e,t){"false"==e.attr("expanded")?(e.attr("expanded","true"),Ln(e,t)):(e.attr("expanded","false"),e.select("text").text((t.type+"").split("#").pop()),e.select("rect").attr("height",30).attr("width",e.select("text").node().getBBox().width+10))}function Ln(e,t){e.raise();var n=t.shape_extra.split("\n");e.select("text").text("");var a,r=Object(le["a"])(n);try{for(r.s();!(a=r.n()).done;){var i=a.value,o=20*(i.split("\t").length-1);e.select("text").append("tspan").text(i.replace("\t","")).attr("dy",20).attr("dx",o+5)}}catch(l){r.e(l)}finally{r.f()}e.select("text").selectAll("tspan").attr("x",0),e.select("rect").attr("height",e.select("text").node().getBBox().height+10).attr("width",e.select("text").node().getBBox().width+10)}var Hn={name:"Visualizer",data:function(){return{exampleMap:new Map([["Streets of Flemish Address Registry","https://tree.linkeddatafragments.org/data/addressregister/streetnames/"],["Visual Thesaurus for Fashion & Costumes","https://treecg.github.io/demo_data/vtmk.ttl"],["Municipalities of Flemish Address Registry","https://tree.linkeddatafragments.org/data/addressregister/municipalities/"],["Cultural Historic Thesaurus","https://treecg.github.io/demo_data/cht.ttl"],["Public Transport Stops in Flanders","https://treecg.github.io/demo_data/stops.ttl"],["Digital Heritage Fragments about WW2","https://demo.netwerkdigitaalerfgoed.nl/fragments/wo2/"],["Demo data Shacl validation","https://raw.githubusercontent.com/TREEcg/TREE-LDES-visualizer/main/src/assets/cht_1_2.ttl"],["Demo data Import statements","https://raw.githubusercontent.com/TREEcg/TREE-LDES-visualizer/main/src/assets/testerMultipleImports.ttl"],["Demo data ldes stream","https://graph.irail.be/sncb/connections/feed"]]),svgHolder:null,svgGHolder:null,remarks:new Map,next_url:"",checked_shape:!1,checked_remarks:!1,picked:"Remarks",data_url:void 0,shape_validation:null,nodeValidation:{},selected:0,alpha_decay_rate:.5,emptyURL:"",urlList:[],remaining:"",remainingMembers:"",identifies:"",collectionStats:{},shapeInformation:"",shapePresent:void 0,myGreen:"rgba(0, 128, 0, 0.5)",tableObserver:void 0,dataResult:void 0}},created:function(){var e=this,t=(""+window.location).split("#p=");if(this.emptyURL=t.shift(),!(t.length<=0)&&(t=t[0].split("&p="),this.urlList=JSON.parse(JSON.stringify(t)),t=t.map((function(e){return decodeURIComponent(e)})),t.length>0)){var n=t.pop();if(at(),t.length>0){var a,r=new Promise((function(e){a=e}));this.derefList(t.shift(),t,a),r.then((function(){return e.derefUrl(n,!0)}))}else this.derefUrl(n,!0)}},mounted:function(){this.startObserver()},methods:{startObserver:function(){this.tableObserver?this.tableObserver.disconnect():this.tableObserver=new ResizeObserver((function(){document.getElementById("currentPage")&&document.getElementById("currentPage").offsetWidth&&nn(document.getElementById("currentPage").offsetWidth)})),document.getElementById("currentPage")&&this.tableObserver.observe(document.getElementById("currentPage"))},start:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(t=!0),this.derefUrl(e,t),!e&&Ce?(window.history.pushState({},document.title,this.emptyURL+"#p="+encodeURIComponent(Ce)),this.urlList=[Ce]):Ce&&!this.urlList.includes(Ce)&&window.location.toString().length+3+encodeURIComponent(Ce).length<2e3?(window.history.pushState({},document.title,window.location+"&p="+encodeURIComponent(Ce)),this.urlList.push(Ce)):Ce||(window.history.pushState({},document.title,this.emptyURL),this.urlList=[])},derefList:function(e,t,n){var a=this;wt(e).then((function(){0==t.length?n():a.derefList(t.shift(),t,n)}))},derefUrl:function(e){var t=arguments,n=this;return Object(se["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.length>1&&void 0!==t[1]&&t[1],e||n.data_url){a.next=6;break}return n.svgClear(),nt(void 0),alert("Please define a starting point"),a.abrupt("return");case 6:return e?n.data_url=e:n.svgClear(),nt(n.data_url),a.next=10,wt(e);case 10:n.dataResult=a.sent,n.data_url=n.dataResult.data_url,n.dataResult.dereferenced?n.cB():n.cB(r);case 13:case"end":return a.stop()}}),a)})))()},svgClear:function(){this.identifies=void 0,this.remaining=void 0,this.remainingMembers=void 0,this.dataResult&&(this.dataResult.collectionStats={},this.dataResult.shapePresent=void 0,this.dataResult.shapeInformation=void 0),this.svgHolder=null,this.svgGHolder=null,ce["g"]("#currentPage").selectAll("svg").remove()},cB:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setSVGElements(),this.findLastNode(this.dataResult.data_url)||this.findLastNode(this.dataResult.redirectMappings.get(this.dataResult.data_url)),this.dataResult&&this.dataResult.jsondata.shapes&&this.dataResult.jsondata.shapes[0]&&this.dataResult.jsondata.shapes[0]["shape_extra"]?(this.dataResult.shapeInformation=this.dataResult.jsondata.shapes[0]["shape_extra"],this.dataResult.shapePresent=!0):this.dataResult&&(this.dataResult.shapePresent=void 0),wn(this.myGreen,this.dataResult.jsondata,"graph",this.dataResult.relationLabelMap,this.start),e&&kn()},findLastNode:function(e){var t=!1;if(this.dataResult.jsondata.nodes.length>0){var n,a=Object(le["a"])(this.dataResult.jsondata.nodes);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.name==e?(r.selected=!0,this.drawExtra(r),t=!0,this.dataResult.jsondata[r.id]&&this.dataResult.jsondata[r.id].remainingItems>0&&(this.remaining="Remaining items identified via relation properties for selected resource: "+this.dataResult.jsondata[r.id].remainingItems+".\n"),this.identifies="Selected resource identifies a node.\n"):r.selected=!1}}catch(s){a.e(s)}finally{a.f()}}if(this.dataResult.jsondata.views.length>0){var i,o=Object(le["a"])(this.dataResult.jsondata.views);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.name==e?(l.selected=!0,this.drawExtra(l),t=!0,this.dataResult.jsondata[l.id]&&this.dataResult.jsondata[l.id].remainingItems>0&&(this.remaining="Remaining items identified via relation properties for selected resource: "+this.dataResult.jsondata[l.id].remainingItems+".\n"),this.identifies="Selected resource identifies a view.\n"):l.selected=!1}}catch(s){o.e(s)}finally{o.f()}}return t},collectionCB:function(){this.collectionStats=this.dataResult.collectionStats,this.remarks=this.dataResult.remarks},setUrl:function(e){this.data_url=e,this.start(void 0)},close:function(){document.getElementById("fakeExamples").style.display="none"},open:function(){document.getElementById("fakeExamples").style.display="inline-block"},openShape:function(){document.getElementById("shapeClosed").style.display="none",document.getElementById("shapeOpenedText").style.display="inline",document.getElementById("shapeOpened").style.display="block"},closeShape:function(){document.getElementById("shapeClosed").style.display="inline",document.getElementById("shapeOpenedText").style.display="none",document.getElementById("shapeOpened").style.display="none"},remainingSetter:function(e){this.remaining=e},remainingMembersSetter:function(e){this.remainingMembers=e},drawExtra:function(e){en(this.svgHolder,this.svgGHolder,this.remainingSetter,this.dataResult.jsondata,rt,this.start,this.dataResult.members),tn(e),cn(this.dataResult.members,this.dataResult.membersFailed,this.remainingMembersSetter,this.dataResult.nodeValidation,"members"),dn(e),xn(e)},setSVGElements:function(){this.svgHolder||(this.svgHolder=[ce["f"]("#currentPage").append("svg").attr("pointer-events","all")],this.svgGHolder=[this.svgHolder[0].append("g")])}}};n("4de0");Hn.render=ie;var zn=Hn;Object(a["b"])(zn).mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});
//# sourceMappingURL=app.ca17d057.js.map